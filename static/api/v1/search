{
   "apiVersion"      : "1.0.0",
   "swaggerVersion"  : "1.2",
   "basePath"        : "http://localhost/api/v1",
   "resourcePath"    : "/search",
   "produces"        : [
      "application/json"
   ],
   "apis": [
      {
         "path": "search/{cloudletId}/data",
         "operations": [
            {
               "method"   : "GET",
               "summary"  : "Search for data within a cloudlet.",
               "notes"    : "This endpoint can be used to search within a Cloudlet. Objects can be searched by their types, context and data properties. All parameters support RQL queries <a href='http://www.persvr.org/rql'>http://www.persvr.org/rql</a>. Parameters allow for pagination and result sorting. The response contains an array of data views.",
               "type"     : "ResultArray",
               "nickname" : "search",
               "responseMessages": [
                  {
                     "code": 501,
                     "message": "Not yet Implemented"
                  }
               ],
               "parameters" : [
                  {
                     "name"        : "cloudletId",
                     "description" : "The id of the Cloudlet that is to be exported.",
                     "required"    : true,
                     "dataType"    : "string",
                     "paramType"   : "path"
                  },
                  {
                     "name"         : "data.context",
                     "description"  : "Search by an objects context.",
                     "required"     : false,
                     "type"         : "string",
                     "paramType"    : "query"
                  },
                  {
                     "name"         : "data.type",
                     "description"  : "Search by an objects type.",
                     "required"     : false,
                     "type"         : "string",
                     "paramType"    : "query"
                  },
                  {
                     "name"         : "data.property",
                     "description"  : "Search by an objects properties.",
                     "required"     : false,
                     "type"         : "string",
                     "paramType"    : "query"
                  },
                  {
                     "name"         : "sort",
                     "description"  : "Sorts results by the given property in order specified by the prefix (+ for ascending, - for descending).",
                     "required"     : false,
                     "type"         : "string",
                     "paramType"    : "query"
                  },
                  {
                     "name"         : "from",
                     "description"  : "A pagination parameter, from specifies the start index of the result Array.",
                     "required"     : false,
                     "type"         : "string",
                     "paramType"    : "query"
                  },
                  {
                     "name"         : "limit",
                     "description"  : "A pagination parameter, limit specifies the amount of results the result array contains.",
                     "required"     : false,
                     "type"         : "string",
                     "paramType"    : "query"
                  }
               ],
               "responseMessages": [
                  {
                     "code": 501,
                     "message": "Not yet Implemented"
                  },
                  {
                     "code": 400,
                     "message": "Bad Request",
                     "responseModel": "Status"
                  },
                  {
                     "code": 401,
                     "message": "Unauthorised request",
                     "responseModel": "Status"
                  },
                  {
                     "code": 405,
                     "message": "Method Not allowed",
                     "responseModel": "Status"
                  }
               ]
            }
         ]
      }
   ],
   "models" : {
      "DataView": {
         "id": "DataView",
         "properties": {
            "id": {
               "type"        : "string",
               "format"      : "string",
               "description" : "Unique identifier for the Object",
               "required"    : true
            },
            "value": {
               "type"        : "string",
               "description" : "JSON Object Returned",
               "required"    : true
            }
         }
      },
      "Result" : {
         "id": "Result",
         "properties": {
            "index": {
               "type"        : "string",
               "format"      : "int32",
               "description" : "The position of this object in the complete result array.",
               "required"    : true
            },
            "view" : {
               "type"        : "DataView",
               "description" : "Data View",
               "required"    : true
            }
         }
      },
      "ResultArray": {
         "id": "ResultArray",
         "properties": {
            "value": {
               "type"        : "boolean",
               "format"      : "boolean",
               "description" : "True if request was success, otherwise False.",
               "required"    : true
            },
            "errorMessage" : {
               "type"        : "string",
               "description" : "If the search caused an error the error message appears here.",
               "required"    : false
            },
            "count" : {
               "type"        : "integer",
               "format"      : "int32",
               "description" : "The amounts of results in this result array."
            },
            "total.count" : {
               "type"        : "integer",
               "format"      : "int32",
               "description" : "The complete number of matching views/objects."
            },
            "results":{
               "type"        : "array",
               "description" : "An array of Results for the created types.",
               "items"       : {
                  "$ref" : "Result"
               },
               "required"    : true
            }
         }
      }
   }
}
